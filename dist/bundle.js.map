{"version":3,"sources":["webpack:///webpack/bootstrap 81e0ec83ca64132445c8","webpack:///./lib/index.js","webpack:///./lib/VNode/index.js","webpack:///./lib/VElement/index.js","webpack:///./lib/VComment/index.js","webpack:///./lib/VText/index.js","webpack:///./lib/VNode/utils.js","webpack:///./lib/utils.js","webpack:///./lib/libs/htmlParser.js","webpack:///./lib/libs/diff.js","webpack:///./~/list-diff2/index.js","webpack:///./~/list-diff2/lib/diff.js","webpack:///./lib/libs/patch.js"],"names":[],"mappings":"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AAjB;AACA,iBAAY,OAAZ,CAAoB,UAAC,KAAD,EAAQ,CAAR,EAAc;AAC9B,aAAI,WAAW,YAAY,CAAZ,CAAf;AACA,aAAI,QAAQ,SAAS,OAAO,KAAP,IAAgB,CAAzB,GAA6B,CAAzC;AACA,sBAAa,aAAa,KAAb,GAAqB,CAAlC;AACA,cAAK,KAAL,EAAY,QAAZ,EAAsB,UAAtB,EAAkC,OAAlC;AACA,kBAAS,KAAT;AACH,MAND;AAOH;;AAED,UAAS,gBAAT,CAA0B,EAA1B,EAA8B;AAC1B,YAAO,GAAG,UAAH,IAAiB,GAAG,UAAH,CAAc,cAAd,CAA6B,QAA7B,CAAxB;AACH,E;;;;;;ACvHD;;;;;;;ACAA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,aAAY,OAAO,IAAI;AACvB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA,qCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;mBC1IwB,K;;AAHxB;;AACA;;;;;;AAEe,UAAS,KAAT,CAAe,IAAf,EAAqB,OAArB,EAA8B;AACzC,SAAI,SAAS,EAAE,KAAK,CAAP,EAAb;AACA,UAAK,IAAL,EAAW,MAAX,EAAmB,OAAnB;AACH;;AAED,UAAS,IAAT,CAAc,IAAd,EAAoB,MAApB,EAA4B,OAA5B,EAAqC;AACjC,SAAI,iBAAiB,QAAQ,OAAO,GAAf,CAArB;;AAEA,yBAAQ,KAAK,UAAb,EAAyB,OAAzB,CAAiC,iBAAS;AACtC,gBAAO,GAAP;AACA,cAAK,KAAL,EAAY,MAAZ,EAAoB,OAApB;AACH,MAHD;;AAKA,SAAI,cAAJ,EAAoB;AAChB,sBAAa,IAAb,EAAmB,cAAnB;AACH;AACJ;;AAED,UAAS,YAAT,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;AACjC,SAAI,gBAAJ;AACA,aAAQ,OAAR,CAAgB,iBAAS;AACrB,iBAAQ,MAAM,IAAd;AACI,kBAAK,YAAM,OAAX;AACI,qBAAI,MAAM,IAAV,EAAgB;AACZ,0BAAK,IAAL,GAAY,MAAM,IAAN,CAAW,IAAvB;AACH,kBAFD,MAEO;AACH,+BAAU,MAAM,IAAN,CAAW,MAAX,EAAV;AACA,0BAAK,UAAL,CAAgB,YAAhB,CAA6B,OAA7B,EAAsC,IAAtC;AACH;AACD;AACJ,kBAAK,YAAM,OAAX;AACI,iCAAgB,IAAhB,EAAsB,MAAM,KAA5B;AACA;AACJ,kBAAK,YAAM,KAAX;AACI,0BAAS,IAAT,EAAe,MAAM,KAArB;AACA;AACJ;AACI,uBAAM,IAAI,KAAJ,CAAU,wBAAwB,MAAM,IAAxC,CAAN;AAhBR;AAkBH,MAnBD;AAoBH;;AAED,UAAS,QAAT,CAAkB,IAAlB,EAAwB,KAAxB,EAA+B;AAC3B,SAAI,cAAJ;AACA,YAAO,mBAAP,CAA2B,KAA3B,EAAkC,OAAlC,CAA0C,eAAO;AAC7C,iBAAQ,MAAM,GAAN,CAAR;AACA,aAAI,UAAU,KAAK,CAAnB,EAAsB;AAClB,kBAAK,eAAL;AACH,UAFD,MAEO;AACH,iCAAQ,IAAR,EAAc,GAAd,EAAmB,KAAnB;AACH;AACJ,MAPD;AAQH;;AAED,UAAS,eAAT,CAAyB,IAAzB,EAA+B,KAA/B,EAAsC;AAClC,SAAI,aAAa,KAAK,UAAtB;AACA,SAAI,cAAc,oBAAQ,UAAR,CAAlB;AACA,SAAI,OAAO,EAAX;;AAEA,iBAAY,OAAZ,CAAoB,gBAAQ;AACxB,aAAI,KAAK,QAAL,KAAkB,CAAtB,EAAyB;AACrB,iBAAI,MAAM,KAAK,YAAL,CAAkB,KAAlB,CAAV;AACA,iBAAI,GAAJ,EAAS;AACL,sBAAK,GAAL,IAAY,IAAZ;AACH;AACJ;AACJ,MAPD;;AASA,WAAM,OAAN,CAAc,gBAAQ;AAClB,aAAI,mBAAJ;AACA,aAAI,MAAM,KAAK,GAAf;AACA,aAAI,KAAK,IAAL,KAAc,CAAlB,EAAqB;;AACjB,iBAAI,YAAY,GAAZ,MAAqB,WAAW,GAAX,CAAzB,EAA0C;;AACtC,sBAAK,WAAL,CAAiB,WAAW,GAAX,CAAjB;AACH;AACD,yBAAY,MAAZ,CAAmB,GAAnB,EAAwB,CAAxB;AACH,UALD,MAKO,IAAI,KAAK,IAAL,KAAc,CAAlB,EAAqB;;AACxB,0BAAa,KAAK,KAAK,IAAL,CAAU,GAAf,IACP,KAAK,KAAK,IAAL,CAAU,GAAf,C;AADO,eAEP,KAAK,IAAL,CAAU,MAAV,EAFN;AAGA,yBAAY,MAAZ,CAAmB,GAAnB,EAAwB,CAAxB,EAA2B,UAA3B;AACA,kBAAK,YAAL,CAAkB,UAAlB,EAA8B,WAAW,GAAX,KAAmB,IAAjD;AACH;AACJ,MAfD;AAgBH,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 81e0ec83ca64132445c8\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from './VNode';\nimport VElement from './VElement';\nimport VComment from './VComment';\nimport VText from './VText';\nimport diff from './libs/diff';\nimport patch from './libs/patch';\nimport { transformToVNode } from './VNode/utils';\n\nif (typeof window !== 'undefined') {\n    let VD = window.VD = {};\n    VD.VNode = VNode;\n    VD.VElement = VElement;\n    VD.VComment = VComment;\n    VD.VText = VText;\n    VD.transformToVNode = transformToVNode;\n    VD.diff = diff;\n    VD.patch = patch;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nexport default class VNode {\n    toString() {\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VNode/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from '../VNode';\n\nlet enableStyleEncode = false;\n\nexport function processStyle(style) {\n    if (!enableStyleEncode) {\n        return style;\n    }\n    return style\n        .split(';')\n        .map(piece => piece.trim().split(':'))\n        .filter(pairs => pairs.length === 2)\n        .reduce((acc, cur) => {\n            let [ k, v ] = cur;\n            return {\n                ...acc,\n                [k.trim()]: v.trim()\n            }\n        }, {});\n}\n\nexport default class VElement extends VNode {\n    constructor(tagName, properties = {}, children = [], key, namespace) {\n        super();\n\n        this.tagName = tagName;\n        this.properties = properties;\n        this.children = children;\n        this.key = key;\n        this.namespace = namespace;\n\n        let { style } = this.properties;\n        if (typeof style === 'string') {\n            this.properties.style = processStyle(style);\n        }\n\n        this.count = this.children.reduce((count, child) => {\n            child.parent = this;\n            return count + (child.count || 0) + 1;\n        }, 0);\n    }\n\n    pushChild(child) {\n        let count = child.count || 0;\n        this.changeCount(count + 1);\n        child.parent = this;\n        this.children.push(child);\n    }\n\n    changeCount(count) {\n        if (this.parent) {\n            this.parent.changeCount(count);\n        }\n        this.count += count;\n    }\n\n    render() {\n        let el = document.createElement(this.tagName);\n        Object.keys(this.properties).forEach(propName => {\n            let v = this.properties[propName];\n            el.setAttribute(propName, v);\n        });\n        this.children.forEach(child => {\n            el.appendChild(child.render());\n        });\n        return el;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VElement/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from '../VNode';\n\nexport default class VComment extends VNode {\n    constructor(data, key) {\n        super();\n        this.data = data;\n        this.key = key;\n    }\n\n    render() {\n        return document.createComment(this.data);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VComment/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from '../VNode';\n\nexport default class VText extends VNode {\n    constructor(data, key) {\n        super();\n        this.data = data;\n        this.key = key;\n    }\n\n    render() {\n        return document.createTextNode(this.data);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VText/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VElement from '../VElement';\nimport VText from '../VText';\nimport VComment from '../VComment';\nimport { toArray } from '../utils';\nimport htmlParser from '../libs/htmlParser';\n\nfunction transformNodeToVNode(node) {\n    let res;\n    let properties;\n    let children = toArray(node.childNodes).map(transformNodeToVNode);\n    if (node instanceof HTMLElement) {\n        properties = toArray(node.attributes).reduce((prev, curr) => {\n            return {\n                ...prev,\n                [curr.name]: curr.value\n            }\n        }, {});\n        res = new VElement(node.tagName.toLowerCase(), properties, children);\n    } else if (node instanceof Text) {\n        res = new VText(node.data);\n    } else if (node instanceof Comment) {\n        res = new VComment(node.data);\n    }\n    return res;\n}\n\nfunction transformStrToVNode(str) {\n    return htmlParser.parse(str);\n}\n\nexport function transformToVNode(nodeOrStr) {\n    if (nodeOrStr instanceof Node) {\n        return transformNodeToVNode(nodeOrStr);\n    }\n    return transformStrToVNode(nodeOrStr);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VNode/utils.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\nimport VElement from './VElement';\nimport VText from './VText';\nimport VComment from './VComment';\n\nexport function isVElement(obj) {\n    return obj instanceof VElement;\n}\n\nexport function isVText(obj) {\n    return obj instanceof VText;\n}\n\nexport function isVComment(obj) {\n    return obj instanceof VComment;\n}\n\nconst toString = Object.prototype.toString;\n\nexport function getType(obj) {\n    return toString.call(obj).slice(8, -1);\n}\n\nfunction _isArray(obj) {\n    return getType(obj) === 'Array';\n}\n\nexport const isArray = Array.isArray || _isArray;\n\nexport function toArray(obj) {\n    return Array.prototype.slice.call(obj);\n}\n\nexport function objExtend(obj, rest, filter = () => true) {\n    Object.keys(rest).filter(filter).forEach(k => {\n        obj[k] = rest[k];\n    });\n}\n\nexport function setAttr(node, key, value) {\n    switch (key) {\n        case 'style':\n            node.style.cssText = value;\n            break;\n        case 'value':\n            var tagName = node.tagName || '';\n            tagName = tagName.toLowerCase();\n            if (['input', 'textarea'].indexOf(tagName) + 1) {\n                node.value = value\n            } else {\n                // if it is not a input or textarea, use `setAttribute` to set\n                node.setAttribute(key, value);\n            }\n            break;\n        default:\n            node.setAttribute(key, value);\n            break;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VText from '../VText';\nimport VComment from '../VComment';\nimport VElement, { processStyle } from '../VElement';\n\nclass HTMLParser {\n    TAG_START = '<';\n    TAG_END = '>';\n    QUOTES = ['\"', \"'\"];\n    SPACE = ' ';\n    EQUAL = '=';\n    BACKSLASH = '\\\\';\n    SLASH = '/';\n    BANG = '!';\n    SELF_TAG_NAMES = [\n        'img', 'link', 'br', 'hr', 'col', 'area', 'meta', 'frame', 'input', 'param'\n    ];\n\n    constructor() {\n        this.init();\n    }\n\n    init() {\n        this.inStr = false;\n        this.inTag = false;\n        this.inBeginTag = false;\n        this.inComment = false;\n        this.depth = 0;\n        this.quote = void 0;\n        this.pIdx = 0;\n        this.cIdx = 0;\n        this.ve = void 0;\n        this.rootVe = void 0;\n        this.prev = void 0;\n        this.str = void 0;\n        this.stack = [];\n        this.spaceCount = 0;\n    }\n\n    getToken() {\n        return this.str.substr(this.pIdx + 1, this.cIdx - this.pIdx - 1);\n    }\n\n    getCommentData(v) {\n        v = v.substr(1);\n        let l = v.length;\n        if (v.charAt(0) === '-' && v.charAt(1) === '-') {\n            if (v.charAt(l - 2) === '-' && v.charAt(l - 1) === '-') {\n                return v.substr(2, l - 4);\n            } else {\n                return v.substr(2);\n            }\n        }\n        return v;\n    }\n\n    pushProp(token) {\n        let l = token.length;\n        let idx = token.indexOf('=');\n        let k, v;\n        if (idx < 0) {\n            k = token;\n            v = '';\n        } else {\n            k = token.substr(0, idx);\n            v = token.substr(idx + 2, l - k.length - 3);\n        }\n        if (k === 'style') {\n            v = processStyle(v);\n        }\n        this.ve.properties[k] = v;\n    }\n\n    pushChild(v) {\n        if (!this.ve) {\n            return;\n        }\n        this.ve.pushChild(v);\n    }\n\n    pushVe(ve) {\n        this.stack.push(ve);\n        this.depth++;\n        this.ve = ve;\n        if (!this.rootVe) {\n            this.rootVe = ve;\n        }\n    }\n\n    popVe() {\n        this.stack.pop();\n        this.depth--;\n        this.ve = this.stack[this.depth - 1];\n    }\n\n    newElement(tagName) {\n        let ve = new VElement(tagName);\n        this.pushChild(ve);\n        this.pushVe(ve);\n    }\n\n    parse(str) {\n        str = str.trim();\n        this.str = str;\n        let idx = 0;\n        let char = str.charAt(idx);\n        let token;\n        let next;\n        let nextIsSlash;\n        let prevIsSlash;\n        let nextIsBang;\n        while (char) {\n            this.cIdx = idx;\n            if (!this.inStr) {\n                if (char === this.TAG_START) {\n                    token = this.getToken();\n                    next = str.charAt(idx + 1);\n                    nextIsSlash = next === this.SLASH;\n                    nextIsBang = next === this.BANG;\n\n                    if (token && !this.inComment) {\n                        this.pushChild(new VText(token));\n                    }\n\n                    if (nextIsBang) {\n                        this.inComment = true;\n                    } else {\n                        this.inTag = true;\n                        if (!nextIsSlash) {\n                            this.inBeginTag = true;\n                        }\n                    }\n                    this.pIdx = idx;\n                }\n                if (char === this.TAG_END) {\n                    token = this.getToken();\n                    if (this.inComment) {\n                        this.pushChild(new VComment(this.getCommentData(token)));\n                        this.inComment = false;\n                    } else if (this.inTag) {\n                        if (this.inBeginTag) {\n                            prevIsSlash = this.prev === this.SLASH;\n                            if (token) {\n                                if (this.spaceCount !== 0 && !prevIsSlash) {\n                                    this.pushProp(token);\n                                } else if (!prevIsSlash) {\n                                    this.newElement(token);\n                                } else {\n                                    this.popVe();\n                                }\n                                if (!prevIsSlash && this.ve && this.SELF_TAG_NAMES.indexOf(this.ve.tagName.toLowerCase()) >= 0) {\n                                    this.popVe();\n                                }\n                            } else if (this.ve && this.SELF_TAG_NAMES.indexOf(this.ve.tagName.toLowerCase()) >= 0) {\n                                this.popVe();\n                            }\n                        } else {\n                            this.popVe();\n                        }\n                        this.inTag = false;\n                        this.inBeginTag = false;\n                        this.spaceCount = 0;\n                    }\n                    this.pIdx = idx;\n                }\n                if (this.inBeginTag && char === this.SPACE) {\n                    token = this.getToken();\n                    if (token) {\n                        if (this.spaceCount === 0) {\n                            this.newElement(token);\n                        } else {\n                            this.pushProp(token);\n                        }\n                    }\n                    this.spaceCount++;\n                    this.pIdx = idx;\n                }\n                if (this.inBeginTag && char === this.SLASH && this.spaceCount === 0 && str.charAt(idx + 1) === this.TAG_END) {\n                    token = this.getToken();\n                    this.newElement(token);\n                }\n                if (this.inBeginTag && [this.SPACE, this.SLASH, this.TAG_END].indexOf(char) < 0 && this.QUOTES.indexOf(this.prev) >= 0) {\n                    this.pushProp(this.getToken());\n                    this.pIdx = idx - 1;\n                }\n            }\n            if (this.QUOTES.indexOf(char) >= 0) {\n                if (this.quote === void 0) {\n                    this.quote = char;\n                    this.inStr = true;\n                } else if (this.quote === char) {\n                    this.quote = void 0;\n                    this.inStr = false;\n                }\n            }\n            this.prev = char;\n            char = str.charAt(++idx);\n        }\n        let r = this.rootVe;\n        this.init();\n        return r;\n    }\n}\n\nexport default new HTMLParser();\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/libs/htmlParser.js\n **/","/**\n * Created by yetone on 16/6/17.\n */\n\nimport listDiff from 'list-diff2';\nimport { isVElement } from '../utils';\n\nexport const TYPES = {\n    REPLACE: 0,\n    REORDER: 1,\n    PROPS: 2\n};\n\nexport default function diff(oldVN, newVN) {\n    let idx = 0;\n    let patches = {};\n    walk(oldVN, newVN, idx, patches);\n    return patches;\n}\n\nfunction walk(oldVN, newVN, idx, patches) {\n    let currentPatch = [];\n    if (!newVN) {\n        // pass\n    } else if (isVElement(oldVN) && isVElement(newVN)) {\n        if (oldVN.tagName === newVN.tagName && oldVN.key === newVN.key) {\n            // Diff props\n            let propsPatches = diffProps(oldVN, newVN);\n            if (propsPatches) {\n                currentPatch.push({ type: TYPES.PROPS, props: propsPatches });\n            }\n            // Diff children. If the node has a `ignore` property, do not diff children\n            if (!isIgnoreChildren(newVN)) {\n                diffChildren(\n                    oldVN.children,\n                    newVN.children,\n                    idx,\n                    patches,\n                    currentPatch\n                )\n            }\n        } else {\n            currentPatch.push({ type: TYPES.REPLACE, node: newVN });\n        }\n    } else {\n        if (oldVN.constructor === newVN.constructor) {\n            if (oldVN.data !== newVN.data) {\n                currentPatch.push({ type: TYPES.REPLACE, node: newVN, data: true });\n            }\n        } else {\n            currentPatch.push({ type: TYPES.REPLACE, node: newVN });\n        }\n    }\n\n    if (currentPatch.length) {\n        patches[idx] = currentPatch\n    }\n}\n\nfunction diffProps(oldVN, newVN) {\n    let count = 0;\n    let oldProps = oldVN.properties;\n    let newProps = newVN.properties;\n\n    let value;\n    let propsPatches = {};\n\n    // Find out different properties\n    Object.getOwnPropertyNames(oldProps).forEach(key => {\n        value = oldProps[key];\n        if (newProps[key] !== value) {\n            count++;\n            propsPatches[key] = newProps[key];\n        }\n    });\n\n    // Find out new property\n    Object.getOwnPropertyNames(newProps).forEach(key => {\n        value = newProps[key];\n        if (!oldProps.hasOwnProperty(key)) {\n            count++;\n            propsPatches[key] = newProps[key];\n        }\n    });\n\n    // If properties all are identical\n    if (count === 0) {\n        return null;\n    }\n\n    return propsPatches;\n}\n\nfunction diffChildren(oldChildren, newChildren, idx, patches, currentPatch) {\n    let diffs = listDiff(oldChildren, newChildren, 'key');\n    let reorderPatch;\n    newChildren = diffs.children;\n\n    if (diffs.moves.length) {\n        reorderPatch = {\n            type: TYPES.REORDER,\n            moves: diffs.moves\n        };\n        currentPatch.push(reorderPatch);\n    }\n\n    let leftVN = null;\n    let currentIdx = idx;\n    oldChildren.forEach((child, i) => {\n        let newChild = newChildren[i];\n        let count = leftVN ? leftVN.count || 0 : 0;\n        currentIdx = currentIdx + count + 1;\n        walk(child, newChild, currentIdx, patches);\n        leftVN = child;\n    })\n}\n\nfunction isIgnoreChildren(vn) {\n    return vn.properties && vn.properties.hasOwnProperty('ignore');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/libs/diff.js\n **/","module.exports = require('./lib/diff').diff\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/list-diff2/index.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\r\n * Diff two list in O(N).\r\n * @param {Array} oldList - Original List\r\n * @param {Array} newList - List After certain insertions, removes, or moves\r\n * @return {Object} - {moves: <Array>}\r\n *                  - moves is a list of actions that telling how to remove and insert\r\n */\r\nfunction diff (oldList, newList, key) {\r\n  var oldMap = makeKeyIndexAndFree(oldList, key)\r\n  var newMap = makeKeyIndexAndFree(newList, key)\r\n\r\n  var newFree = newMap.free\r\n\r\n  var oldKeyIndex = oldMap.keyIndex\r\n  var newKeyIndex = newMap.keyIndex\r\n\r\n  var moves = []\r\n\r\n  // a simulate list to manipulate\r\n  var children = []\r\n  var i = 0\r\n  var item\r\n  var itemKey\r\n  var freeIndex = 0\r\n\r\n  // fist pass to check item in old list: if it's removed or not\r\n  while (i < oldList.length) {\r\n    item = oldList[i]\r\n    itemKey = getItemKey(item, key)\r\n    if (itemKey) {\r\n      if (!newKeyIndex.hasOwnProperty(itemKey)) {\r\n        children.push(null)\r\n      } else {\r\n        var newItemIndex = newKeyIndex[itemKey]\r\n        children.push(newList[newItemIndex])\r\n      }\r\n    } else {\r\n      var freeItem = newFree[freeIndex++]\r\n      children.push(freeItem || null)\r\n    }\r\n    i++\r\n  }\r\n\r\n  var simulateList = children.slice(0)\r\n\r\n  // remove items no longer exist\r\n  i = 0\r\n  while (i < simulateList.length) {\r\n    if (simulateList[i] === null) {\r\n      remove(i)\r\n      removeSimulate(i)\r\n    } else {\r\n      i++\r\n    }\r\n  }\r\n\r\n  // i is cursor pointing to a item in new list\r\n  // j is cursor pointing to a item in simulateList\r\n  var j = i = 0\r\n  while (i < newList.length) {\r\n    item = newList[i]\r\n    itemKey = getItemKey(item, key)\r\n\r\n    var simulateItem = simulateList[j]\r\n    var simulateItemKey = getItemKey(simulateItem, key)\r\n\r\n    if (simulateItem) {\r\n      if (itemKey === simulateItemKey) {\r\n        j++\r\n      } else {\r\n        // new item, just inesrt it\r\n        if (!oldKeyIndex.hasOwnProperty(itemKey)) {\r\n          insert(i, item)\r\n        } else {\r\n          // if remove current simulateItem make item in right place\r\n          // then just remove it\r\n          var nextItemKey = getItemKey(simulateList[j + 1], key)\r\n          if (nextItemKey === itemKey) {\r\n            remove(i)\r\n            removeSimulate(j)\r\n            j++ // after removing, current j is right, just jump to next one\r\n          } else {\r\n            // else insert item\r\n            insert(i, item)\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      insert(i, item)\r\n    }\r\n\r\n    i++\r\n  }\r\n\r\n  function remove (index) {\r\n    var move = {index: index, type: 0}\r\n    moves.push(move)\r\n  }\r\n\r\n  function insert (index, item) {\r\n    var move = {index: index, item: item, type: 1}\r\n    moves.push(move)\r\n  }\r\n\r\n  function removeSimulate (index) {\r\n    simulateList.splice(index, 1)\r\n  }\r\n\r\n  return {\r\n    moves: moves,\r\n    children: children\r\n  }\r\n}\r\n\r\n/**\r\n * Convert list to key-item keyIndex object.\r\n * @param {Array} list\r\n * @param {String|Function} key\r\n */\r\nfunction makeKeyIndexAndFree (list, key) {\r\n  var keyIndex = {}\r\n  var free = []\r\n  for (var i = 0, len = list.length; i < len; i++) {\r\n    var item = list[i]\r\n    var itemKey = getItemKey(item, key)\r\n    if (itemKey) {\r\n      keyIndex[itemKey] = i\r\n    } else {\r\n      free.push(item)\r\n    }\r\n  }\r\n  return {\r\n    keyIndex: keyIndex,\r\n    free: free\r\n  }\r\n}\r\n\r\nfunction getItemKey (item, key) {\r\n  if (!item || !key) return void 666\r\n  return typeof key === 'string'\r\n    ? item[key]\r\n    : key(item)\r\n}\r\n\r\nexports.makeKeyIndexAndFree = makeKeyIndexAndFree // exports for test\r\nexports.diff = diff\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/list-diff2/lib/diff.js\n ** module id = 12\n ** module chunks = 0\n **/","/**\n * Created by yetone on 16/6/17.\n */\n\nimport { TYPES } from './diff';\nimport { toArray, setAttr } from '../utils';\n\nexport default function patch(node, patches) {\n    let walker = { idx: 0 };\n    walk(node, walker, patches)\n}\n\nfunction walk(node, walker, patches) {\n    let currentPatches = patches[walker.idx];\n\n    toArray(node.childNodes).forEach(child => {\n        walker.idx++;\n        walk(child, walker, patches);\n    });\n\n    if (currentPatches) {\n        applyPatches(node, currentPatches);\n    }\n}\n\nfunction applyPatches(node, patches) {\n    let newNode;\n    patches.forEach(patch => {\n        switch (patch.type) {\n            case TYPES.REPLACE:\n                if (patch.data) {\n                    node.data = patch.node.data;\n                } else {\n                    newNode = patch.node.render();\n                    node.parentNode.replaceChild(newNode, node);\n                }\n                break;\n            case TYPES.REORDER:\n                reorderChildren(node, patch.moves);\n                break;\n            case TYPES.PROPS:\n                setProps(node, patch.props);\n                break;\n            default:\n                throw new Error('Unknown patch type ' + patch.type);\n        }\n    })\n}\n\nfunction setProps(node, props) {\n    let value;\n    Object.getOwnPropertyNames(props).forEach(key => {\n        value = props[key];\n        if (value === void 0) {\n            node.removeAttribute();\n        } else {\n            setAttr(node, key, value)\n        }\n    });\n}\n\nfunction reorderChildren(node, moves) {\n    let childNodes = node.childNodes;\n    let staticNodes = toArray(childNodes);\n    let maps = {};\n\n    staticNodes.forEach(node => {\n        if (node.nodeType === 1) {\n            let key = node.getAttribute('key');\n            if (key) {\n                maps[key] = node;\n            }\n        }\n    });\n\n    moves.forEach(move => {\n        let insertNode;\n        let idx = move.idx;\n        if (move.type === 0) { // remove item\n            if (staticNodes[idx] === childNodes[idx]) { // maybe have been removed for inserting\n                node.removeChild(childNodes[idx]);\n            }\n            staticNodes.splice(idx, 1);\n        } else if (move.type === 1) { // insert item\n            insertNode = maps[move.item.key]\n                ? maps[move.item.key] // reuse old item\n                : move.item.render();\n            staticNodes.splice(idx, 0, insertNode);\n            node.insertBefore(insertNode, childNodes[idx] || null);\n        }\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/libs/patch.js\n **/"],"sourceRoot":""}