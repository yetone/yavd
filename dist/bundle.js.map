{"version":3,"sources":["webpack:///webpack/bootstrap 89818ea22d1bf42046bd","webpack:///./lib/index.js","webpack:///./lib/VElement/index.js","webpack:///./lib/VNode/index.js","webpack:///./lib/VText/index.js","webpack:///./lib/VComment/index.js","webpack:///./lib/utils.js","webpack:///./lib/VNode/utils.js","webpack:///./lib/libs/htmlParser.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AClCA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,KAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,YAAO,KAAP;AACA,YAAO,QAAP;AACA,YAAO,QAAP;AACA,YAAO,KAAP;AACA,YAAO,gBAAP;AACH,E;;;;;;;;;;;;;;;ACZD;;;;;;;;;;;;;;KAEqB,Q;;;AACjB,uBAAY,OAAZ,EAAqD;AAAA,aAAhC,UAAgC,yDAAnB,EAAmB;AAAA,aAAf,QAAe,yDAAJ,EAAI;;AAAA;;AAAA;;AAEjD,eAAK,OAAL,GAAe,QAAQ,WAAR,EAAf;AACA,eAAK,UAAL,GAAkB,UAAlB;AACA,eAAK,QAAL,GAAgB,QAAhB;AAJiD;AAKpD;;;;;mBANgB,Q;;;;;;;;;;;;;;;;;;;;KCFA,K;;;;;;;gCACN,CACV;;;;;;mBAFgB,K;;;;;;;;;;;;;ACArB;;;;;;;;;;;;;;KAEqB,K;;;AACjB,oBAAY,IAAZ,EAAkB;AAAA;;AAAA;;AAEd,eAAK,IAAL,GAAY,IAAZ;AAFc;AAGjB;;;;;mBAJgB,K;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;;;KAEqB,Q;;;AACjB,uBAAY,IAAZ,EAAkB;AAAA;;AAAA;;AAEd,eAAK,IAAL,GAAY,IAAZ;AAFc;AAGjB;;;;;mBAJgB,Q;;;;;;;;;;;SCAL,O,GAAA,O;SAUA,O,GAAA,O;SAIA,S,GAAA,S;;;;;AAhBhB,KAAM,WAAW,OAAO,SAAP,CAAiB,QAAlC;;AAEO,UAAS,OAAT,CAAiB,GAAjB,EAAsB;AACzB,YAAO,SAAS,IAAT,CAAc,GAAd,EAAmB,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,CAAP;AACH;;AAED,UAAS,QAAT,CAAkB,GAAlB,EAAuB;AACnB,YAAO,QAAQ,GAAR,MAAiB,OAAxB;AACH;;AAEM,KAAM,4BAAU,MAAM,OAAN,IAAiB,QAAjC;;AAEA,UAAS,OAAT,CAAiB,GAAjB,EAAsB;AACzB,YAAO,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,GAA3B,CAAP;AACH;;AAEM,UAAS,SAAT,CAAmB,GAAnB,EAAwB,IAAxB,EAAmD;AAAA,SAArB,MAAqB,yDAAZ;AAAA,gBAAM,IAAN;AAAA,MAAY;;AACtD,YAAO,IAAP,CAAY,IAAZ,EAAkB,MAAlB,CAAyB,MAAzB,EAAiC,OAAjC,CAAyC,aAAK;AAC1C,aAAI,CAAJ,IAAS,KAAK,CAAL,CAAT;AACH,MAFD;AAGH,E;;;;;;;;;;;;;;;;SCUe,gB,GAAA,gB;SAOA,I,GAAA,I;;AArChB;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;AAEA,UAAS,oBAAT,CAA8B,IAA9B,EAAoC;AAChC,SAAI,YAAJ;AACA,SAAI,mBAAJ;AACA,SAAI,WAAW,oBAAQ,KAAK,UAAb,EAAyB,GAAzB,CAA6B,oBAA7B,CAAf;AACA,SAAI,gBAAgB,WAApB,EAAiC;AAC7B,sBAAa,oBAAQ,KAAK,UAAb,EAAyB,MAAzB,CAAgC,UAAC,IAAD,EAAO,IAAP,EAAgB;AACzD,iCACO,IADP,sBAEK,KAAK,IAFV,EAEiB,KAAK,KAFtB;AAIH,UALY,EAKV,EALU,CAAb;AAMA,eAAM,uBAAa,KAAK,OAAlB,EAA2B,UAA3B,EAAuC,QAAvC,CAAN;AACH,MARD,MAQO,IAAI,gBAAgB,IAApB,EAA0B;AAC7B,eAAM,oBAAU,KAAK,IAAf,CAAN;AACH,MAFM,MAEA,IAAI,gBAAgB,OAApB,EAA6B;AAChC,eAAM,uBAAa,KAAK,IAAlB,CAAN;AACH;AACD,YAAO,GAAP;AACH;;AAED,UAAS,mBAAT,CAA6B,GAA7B,EAAkC;AAC9B,YAAO,qBAAW,KAAX,CAAiB,GAAjB,CAAP;AACH;;AAEM,UAAS,gBAAT,CAA0B,SAA1B,EAAqC;AACxC,SAAI,qBAAqB,IAAzB,EAA+B;AAC3B,gBAAO,qBAAqB,SAArB,CAAP;AACH;AACD,YAAO,oBAAoB,SAApB,CAAP;AACH;;AAEM,UAAS,IAAT,CAAc,KAAd,EAAqB,KAArB,EAA4B,CAClC,C;;;;;;;;;;;;;;;;ACtCD;;;;AACA;;;;AACA;;;;;;;;KAGM,U;AAaF,2BAAc;AAAA;;AAAA,cAZd,SAYc,GAZF,GAYE;AAAA,cAXd,OAWc,GAXJ,GAWI;AAAA,cAVd,MAUc,GAVL,CAAC,GAAD,EAAM,GAAN,CAUK;AAAA,cATd,KASc,GATN,GASM;AAAA,cARd,KAQc,GARN,GAQM;AAAA,cAPd,SAOc,GAPF,IAOE;AAAA,cANd,KAMc,GANN,GAMM;AAAA,cALd,IAKc,GALP,GAKO;AAAA,cAJd,cAIc,GAJG,CACb,KADa,EACN,MADM,EACE,IADF,EACQ,IADR,EACc,KADd,EACqB,MADrB,EAC6B,MAD7B,EACqC,OADrC,EAC8C,OAD9C,EACuD,OADvD,CAIH;;AACV,cAAK,IAAL;AACH;;;;gCAEM;AACH,kBAAK,KAAL,GAAa,KAAb;AACA,kBAAK,KAAL,GAAa,KAAb;AACA,kBAAK,UAAL,GAAkB,KAAlB;AACA,kBAAK,MAAL,GAAc,KAAd;AACA,kBAAK,SAAL,GAAiB,KAAjB;AACA,kBAAK,KAAL,GAAa,CAAb;AACA,kBAAK,KAAL,GAAa,KAAK,CAAlB;AACA,kBAAK,IAAL,GAAY,CAAZ;AACA,kBAAK,IAAL,GAAY,CAAZ;AACA,kBAAK,EAAL,GAAU,KAAK,CAAf;AACA,kBAAK,MAAL,GAAc,KAAK,CAAnB;AACA,kBAAK,IAAL,GAAY,KAAK,CAAjB;AACA,kBAAK,GAAL,GAAW,KAAK,CAAhB;AACA,kBAAK,UAAL,GAAkB,KAAK,CAAvB;AACA,kBAAK,WAAL,GAAmB,KAAK,CAAxB;AACA,kBAAK,KAAL,GAAa,EAAb;AACA,kBAAK,UAAL,GAAkB,CAAlB;AACH;;;oCAEU;AACP,oBAAO,KAAK,GAAL,CAAS,MAAT,CAAgB,KAAK,IAAL,GAAY,CAA5B,EAA+B,KAAK,IAAL,GAAY,KAAK,IAAjB,GAAwB,CAAvD,CAAP;AACH;;;sCAEY,C,EAAG;AACZ,iBAAI,IAAI,EAAE,MAAV;AACA,iBAAI,IAAI,EAAE,MAAF,CAAS,CAAT,CAAR;AACA,iBAAI,KAAK,MAAL,CAAY,OAAZ,CAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC7B,wBAAO,EAAE,MAAF,CAAS,CAAT,EAAY,IAAI,CAAhB,CAAP;AACH;AACD,oBAAO,CAAP;AACH;;;wCAEc,C,EAAG;AACd,iBAAI,EAAE,MAAF,CAAS,CAAT,CAAJ;AACA,iBAAI,IAAI,EAAE,MAAV;AACA,iBAAI,EAAE,MAAF,CAAS,CAAT,MAAgB,GAAhB,IAAuB,EAAE,MAAF,CAAS,CAAT,MAAgB,GAA3C,EAAgD;AAC5C,qBAAI,EAAE,MAAF,CAAS,IAAI,CAAb,MAAoB,GAApB,IAA2B,EAAE,MAAF,CAAS,IAAI,CAAb,MAAoB,GAAnD,EAAwD;AACpD,4BAAO,EAAE,MAAF,CAAS,CAAT,EAAY,IAAI,CAAhB,CAAP;AACH,kBAFD,MAEO;AACH,4BAAO,EAAE,MAAF,CAAS,CAAT,CAAP;AACH;AACJ;AACD,oBAAO,CAAP;AACH;;;kCAEQ,C,EAAG;AACR,iBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,kBAAK,EAAL,CAAQ,UAAR,CAAmB,KAAK,WAAxB,IAAuC,OAAO,CAAP,KAAa,QAAb,GAAwB,KAAK,YAAL,CAAkB,CAAlB,CAAxB,GAA+C,CAAtF;AACA,kBAAK,WAAL,GAAmB,KAAK,CAAxB;AACA,kBAAK,MAAL,GAAc,KAAd;AACH;;;mCAES,C,EAAG;AACT,iBAAI,CAAC,KAAK,EAAV,EAAc;AACV;AACH;AACD,kBAAK,EAAL,CAAQ,QAAR,CAAiB,IAAjB,CAAsB,CAAtB;AACH;;;gCAEM,E,EAAI;AACP,kBAAK,KAAL,CAAW,IAAX,CAAgB,EAAhB;AACA,kBAAK,KAAL;AACA,kBAAK,EAAL,GAAU,EAAV;AACA,iBAAI,CAAC,KAAK,MAAV,EAAkB;AACd,sBAAK,MAAL,GAAc,EAAd;AACH;AACJ;;;iCAEO;AACJ,kBAAK,KAAL,CAAW,GAAX;AACA,kBAAK,KAAL;AACA,kBAAK,EAAL,GAAU,KAAK,KAAL,CAAW,KAAK,KAAL,GAAa,CAAxB,CAAV;AACH;;;oCAEU,O,EAAS;AAChB,iBAAI,KAAK,uBAAa,OAAb,CAAT;AACA,kBAAK,SAAL,CAAe,EAAf;AACA,kBAAK,MAAL,CAAY,EAAZ;AACH;;;+BAEK,G,EAAK;AACP,mBAAM,IAAI,IAAJ,EAAN;AACA,kBAAK,GAAL,GAAW,GAAX;AACA,iBAAI,MAAM,CAAV;AACA,iBAAI,OAAO,IAAI,MAAJ,CAAW,GAAX,CAAX;AACA,iBAAI,cAAJ;AACA,iBAAI,aAAJ;AACA,iBAAI,oBAAJ;AACA,iBAAI,oBAAJ;AACA,iBAAI,mBAAJ;AACA,oBAAO,IAAP,EAAa;AACT,sBAAK,IAAL,GAAY,GAAZ;AACA,qBAAI,CAAC,KAAK,KAAV,EAAiB;AACb,yBAAI,SAAS,KAAK,SAAlB,EAA6B;AACzB,iCAAQ,KAAK,QAAL,EAAR;AACA,gCAAO,IAAI,MAAJ,CAAW,MAAM,CAAjB,CAAP;AACA,uCAAc,SAAS,KAAK,KAA5B;AACA,sCAAa,SAAS,KAAK,IAA3B;;AAEA,6BAAI,SAAS,CAAC,KAAK,SAAnB,EAA8B;AAC1B,kCAAK,SAAL,CAAe,oBAAU,KAAV,CAAf;AACH;;AAED,6BAAI,UAAJ,EAAgB;AACZ,kCAAK,SAAL,GAAiB,IAAjB;AACH,0BAFD,MAEO;AACH,kCAAK,KAAL,GAAa,IAAb;AACA,iCAAI,CAAC,WAAL,EAAkB;AACd,sCAAK,UAAL,GAAkB,IAAlB;AACH;AACJ;AACD,8BAAK,IAAL,GAAY,GAAZ;AACH;AACD,yBAAI,SAAS,KAAK,OAAlB,EAA2B;AACvB,iCAAQ,KAAK,QAAL,EAAR;AACA,6BAAI,KAAK,SAAT,EAAoB;AAChB,kCAAK,SAAL,CAAe,uBAAa,KAAK,cAAL,CAAoB,KAApB,CAAb,CAAf;AACA,kCAAK,SAAL,GAAiB,KAAjB;AACH,0BAHD,MAGO,IAAI,KAAK,KAAT,EAAgB;AACnB,iCAAI,KAAK,UAAT,EAAqB;AACjB,+CAAc,KAAK,IAAL,KAAc,KAAK,KAAjC;AACA,qCAAI,KAAJ,EAAW;AACP,yCAAI,KAAK,WAAT,EAAsB;AAClB,8CAAK,QAAL,CAAc,KAAd;AACH,sCAFD,MAEO,IAAI,KAAK,UAAL,KAAoB,CAApB,IAAyB,CAAC,WAA9B,EAA2C;AAC9C,8CAAK,WAAL,GAAmB,KAAnB;AACA,8CAAK,QAAL,CAAc,IAAd;AACH,sCAHM,MAGA,IAAI,CAAC,WAAL,EAAkB;AACrB,8CAAK,UAAL,CAAgB,KAAhB;AACH,sCAFM,MAEA;AACH,8CAAK,KAAL;AACH;AACD,yCAAI,CAAC,WAAD,IAAgB,KAAK,EAArB,IAA2B,KAAK,cAAL,CAAoB,OAApB,CAA4B,KAAK,EAAL,CAAQ,OAAR,CAAgB,WAAhB,EAA5B,KAA8D,CAA7F,EAAgG;AAC5F,8CAAK,KAAL;AACH;AACJ,kCAdD,MAcO;AACH,0CAAK,KAAL;AACH;AACJ,8BAnBD,MAmBO;AACH,sCAAK,KAAL;AACH;AACD,kCAAK,KAAL,GAAa,KAAb;AACA,kCAAK,UAAL,GAAkB,KAAlB;AACA,kCAAK,UAAL,GAAkB,CAAlB;AACH;AACD,8BAAK,IAAL,GAAY,GAAZ;AACH;AACD,yBAAI,KAAK,UAAL,IAAmB,SAAS,KAAK,KAArC,EAA4C;AACxC,iCAAQ,KAAK,QAAL,EAAR;AACA,6BAAI,KAAJ,EAAW;AACP,iCAAI,KAAK,UAAL,KAAoB,CAAxB,EAA2B;AACvB,sCAAK,UAAL,CAAgB,KAAhB;AACH,8BAFD,MAEO,IAAI,CAAC,KAAK,WAAV,EAAuB;AAC1B,sCAAK,WAAL,GAAmB,KAAnB;AACA,sCAAK,QAAL,CAAc,IAAd;AACH,8BAHM,MAGA;AACH,sCAAK,QAAL,CAAc,KAAd;AACH;AACJ;AACD,8BAAK,UAAL;AACA,8BAAK,IAAL,GAAY,GAAZ;AACH;AACD,yBAAI,KAAK,UAAL,IAAmB,SAAS,KAAK,KAAjC,IAA0C,KAAK,UAAL,KAAoB,CAA9D,IAAmE,IAAI,MAAJ,CAAW,MAAM,CAAjB,MAAwB,KAAK,OAApG,EAA6G;AACzG,iCAAQ,KAAK,QAAL,EAAR;AACA,8BAAK,UAAL,CAAgB,KAAhB;AACH;AACD,yBAAI,SAAS,KAAK,KAAlB,EAAyB;AACrB,iCAAQ,KAAK,QAAL,EAAR;AACA,6BAAI,SAAS,KAAK,KAAlB,EAAyB;AACrB,kCAAK,WAAL,GAAmB,KAAnB;AACA,kCAAK,MAAL,GAAc,IAAd;AACH;AACD,8BAAK,IAAL,GAAY,GAAZ;AACH;AACJ;AACD,qBAAI,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB,KAA6B,CAA7B,IAAkC,KAAK,IAAL,KAAc,KAAK,SAArD,IAAkE,CAAC,KAAK,MAA5E,EAAoF;AAChF,yBAAI,KAAK,KAAL,KAAe,KAAK,CAAxB,EAA2B;AACvB,8BAAK,KAAL,GAAa,IAAb;AACA,8BAAK,KAAL,GAAa,IAAb;AACH,sBAHD,MAGO,IAAI,KAAK,KAAL,KAAe,IAAnB,EAAyB;AAC5B,8BAAK,KAAL,GAAa,KAAK,CAAlB;AACA,8BAAK,KAAL,GAAa,KAAb;AACH;AACJ;AACD,sBAAK,IAAL,GAAY,IAAZ;AACA,wBAAO,IAAI,MAAJ,CAAW,EAAE,GAAb,CAAP;AACH;AACD,iBAAI,IAAI,KAAK,MAAb;AACA,kBAAK,IAAL;AACA,oBAAO,CAAP;AACH;;;;;;mBAGU,IAAI,UAAJ,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 89818ea22d1bf42046bd\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from './VNode';\nimport VElement from './VElement';\nimport VComment from './VComment';\nimport VText from './VText';\nimport { transformToVNode } from './VNode/utils';\n\nif (typeof window !== 'undefined') {\n    window.VNode = VNode;\n    window.VElement = VElement;\n    window.VComment = VComment;\n    window.VText = VText;\n    window.transformToVNode = transformToVNode;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from '../VNode';\n\nexport default class VElement extends VNode {\n    constructor(tagName, attributes = {}, children = []) {\n        super();\n        this.tagName = tagName.toUpperCase();\n        this.attributes = attributes;\n        this.children = children;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VElement/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nexport default class VNode {\n    toString() {\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VNode/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from '../VNode';\n\nexport default class VText extends VNode {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VText/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VNode from '../VNode';\n\nexport default class VComment extends VNode {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VComment/index.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nconst toString = Object.prototype.toString;\n\nexport function getType(obj) {\n    return toString.call(obj).slice(8, -1);\n}\n\nfunction _isArray(obj) {\n    return getType(obj) === 'Array';\n}\n\nexport const isArray = Array.isArray || _isArray;\n\nexport function toArray(obj) {\n    return Array.prototype.slice.call(obj);\n}\n\nexport function objExtend(obj, rest, filter = () => true) {\n    Object.keys(rest).filter(filter).forEach(k => {\n        obj[k] = rest[k];\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VElement from '../VElement';\nimport VText from '../VText';\nimport VComment from '../VComment';\nimport { toArray } from '../utils';\nimport htmlParser from '../libs/htmlParser';\n\nfunction transformNodeToVNode(node) {\n    let res;\n    let attributes;\n    let children = toArray(node.childNodes).map(transformNodeToVNode);\n    if (node instanceof HTMLElement) {\n        attributes = toArray(node.attributes).reduce((prev, curr) => {\n            return {\n                ...prev,\n                [curr.name]: curr.value\n            }\n        }, {});\n        res = new VElement(node.tagName, attributes, children);\n    } else if (node instanceof Text) {\n        res = new VText(node.data);\n    } else if (node instanceof Comment) {\n        res = new VComment(node.data);\n    }\n    return res;\n}\n\nfunction transformStrToVNode(str) {\n    return htmlParser.parse(str);\n}\n\nexport function transformToVNode(nodeOrStr) {\n    if (nodeOrStr instanceof Node) {\n        return transformNodeToVNode(nodeOrStr);\n    }\n    return transformStrToVNode(nodeOrStr);\n}\n\nexport function diff(oldVn, newVn) {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/VNode/utils.js\n **/","/**\n * Created by yetone on 16/6/14.\n */\n\nimport VText from '../VText';\nimport VComment from '../VComment';\nimport VElement from '../VElement';\n\n\nclass HTMLParser {\n    TAG_START = '<';\n    TAG_END = '>';\n    QUOTES = ['\"', \"'\"];\n    SPACE = ' ';\n    EQUAL = '=';\n    BACKSLASH = '\\\\';\n    SLASH = '/';\n    BANG = '!';\n    SELF_TAG_NAMES = [\n        'img', 'link', 'br', 'hr', 'col', 'area', 'meta', 'frame', 'input', 'param'\n    ];\n\n    constructor() {\n        this.init();\n    }\n\n    init() {\n        this.inStr = false;\n        this.inTag = false;\n        this.inBeginTag = false;\n        this.inAttr = false;\n        this.inComment = false;\n        this.depth = 0;\n        this.quote = void 0;\n        this.pIdx = 0;\n        this.cIdx = 0;\n        this.ve = void 0;\n        this.rootVe = void 0;\n        this.prev = void 0;\n        this.str = void 0;\n        this.curTagName = void 0;\n        this.curAttrName = void 0;\n        this.stack = [];\n        this.spaceCount = 0;\n    }\n\n    getToken() {\n        return this.str.substr(this.pIdx + 1, this.cIdx - this.pIdx - 1);\n    }\n\n    getAttrValue(v) {\n        let l = v.length;\n        let s = v.charAt(0);\n        if (this.QUOTES.indexOf(s) >= 0) {\n            return v.substr(1, l - 2);\n        }\n        return v\n    }\n\n    getCommentData(v) {\n        v = v.substr(1);\n        let l = v.length;\n        if (v.charAt(0) === '-' && v.charAt(1) === '-') {\n            if (v.charAt(l - 2) === '-' && v.charAt(l - 1) === '-') {\n                return v.substr(2, l - 4);\n            } else {\n                return v.substr(2);\n            }\n        }\n        return v;\n    }\n\n    pushAttr(v) {\n        if (!this.curAttrName) {\n            return;\n        }\n        this.ve.attributes[this.curAttrName] = typeof v === 'string' ? this.getAttrValue(v) : v;\n        this.curAttrName = void 0;\n        this.inAttr = false;\n    }\n\n    pushChild(v) {\n        if (!this.ve) {\n            return;\n        }\n        this.ve.children.push(v);\n    }\n\n    pushVe(ve) {\n        this.stack.push(ve);\n        this.depth++;\n        this.ve = ve;\n        if (!this.rootVe) {\n            this.rootVe = ve;\n        }\n    }\n\n    popVe() {\n        this.stack.pop();\n        this.depth--;\n        this.ve = this.stack[this.depth - 1];\n    }\n\n    newElement(tagName) {\n        let ve = new VElement(tagName);\n        this.pushChild(ve);\n        this.pushVe(ve);\n    }\n\n    parse(str) {\n        str = str.trim();\n        this.str = str;\n        let idx = 0;\n        let char = str.charAt(idx);\n        let token;\n        let next;\n        let nextIsSlash;\n        let prevIsSlash;\n        let nextIsBang;\n        while (char) {\n            this.cIdx = idx;\n            if (!this.inStr) {\n                if (char === this.TAG_START) {\n                    token = this.getToken();\n                    next = str.charAt(idx + 1);\n                    nextIsSlash = next === this.SLASH;\n                    nextIsBang = next === this.BANG;\n\n                    if (token && !this.inComment) {\n                        this.pushChild(new VText(token));\n                    }\n\n                    if (nextIsBang) {\n                        this.inComment = true;\n                    } else {\n                        this.inTag = true;\n                        if (!nextIsSlash) {\n                            this.inBeginTag = true;\n                        }\n                    }\n                    this.pIdx = idx;\n                }\n                if (char === this.TAG_END) {\n                    token = this.getToken();\n                    if (this.inComment) {\n                        this.pushChild(new VComment(this.getCommentData(token)));\n                        this.inComment = false;\n                    } else if (this.inTag) {\n                        if (this.inBeginTag) {\n                            prevIsSlash = this.prev === this.SLASH;\n                            if (token) {\n                                if (this.curAttrName) {\n                                    this.pushAttr(token);\n                                } else if (this.spaceCount !== 0 && !prevIsSlash) {\n                                    this.curAttrName = token;\n                                    this.pushAttr(true);\n                                } else if (!prevIsSlash) {\n                                    this.newElement(token);\n                                } else {\n                                    this.popVe();\n                                }\n                                if (!prevIsSlash && this.ve && this.SELF_TAG_NAMES.indexOf(this.ve.tagName.toLowerCase()) >= 0) {\n                                    this.popVe();\n                                }\n                            } else {\n                                this.popVe();\n                            }\n                        } else {\n                            this.popVe();\n                        }\n                        this.inTag = false;\n                        this.inBeginTag = false;\n                        this.spaceCount = 0;\n                    }\n                    this.pIdx = idx;\n                }\n                if (this.inBeginTag && char === this.SPACE) {\n                    token = this.getToken();\n                    if (token) {\n                        if (this.spaceCount === 0) {\n                            this.newElement(token);\n                        } else if (!this.curAttrName) {\n                            this.curAttrName = token;\n                            this.pushAttr(true);\n                        } else {\n                            this.pushAttr(token);\n                        }\n                    }\n                    this.spaceCount++;\n                    this.pIdx = idx;\n                }\n                if (this.inBeginTag && char === this.SLASH && this.spaceCount === 0 && str.charAt(idx + 1) === this.TAG_END) {\n                    token = this.getToken();\n                    this.newElement(token);\n                }\n                if (char === this.EQUAL) {\n                    token = this.getToken();\n                    if (token && this.inTag) {\n                        this.curAttrName = token;\n                        this.inAttr = true;\n                    }\n                    this.pIdx = idx;\n                }\n            }\n            if (this.QUOTES.indexOf(char) >= 0 && this.prev !== this.BACKSLASH && !this.inAttr) {\n                if (this.quote === void 0) {\n                    this.quote = char;\n                    this.inStr = true;\n                } else if (this.quote === char) {\n                    this.quote = void 0;\n                    this.inStr = false;\n                }\n            }\n            this.prev = char;\n            char = str.charAt(++idx);\n        }\n        let r = this.rootVe;\n        this.init();\n        return r;\n    }\n}\n\nexport default new HTMLParser();\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/libs/htmlParser.js\n **/"],"sourceRoot":""}